{"version":3,"sources":["../../src/models/review.model.js"],"names":["Schema","mongoose","ObjectId","Types","ReviewSchema","name","type","String","required","trunkUrl","slackWebhook","steps","StepSchema","Review","model","getReviews","callback","find","getReviewById","id","findById","addReview","review","create","updateReview","_id","query","updateOne","deleteReview","deleteOne"],"mappings":";;;;;;;;;;;;AAAA;;;;AAEA,IAAMA,MAAM,GAAGC,qBAASD,MAAxB;AACA,IAAME,QAAQ,GAAGD,qBAASE,KAAT,CAAeD,QAAhC;AAEA,IAAIE,YAAY,GAAG,IAAIJ,MAAJ,CAAW;AAC5BK,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAE;AAFN,GADsB;AAK5BC,EAAAA,QAAQ,EAAE;AACRH,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GALkB;AAS5BE,EAAAA,YAAY,EAAEH,MATc;AAU5BI,EAAAA,KAAK,EAAE,CAACC,UAAD;AAVqB,CAAX,CAAnB;;AAaO,IAAMC,MAAM,GAAGZ,qBAASa,KAAT,CAAe,QAAf,EAAyBV,YAAzB,CAAf;;;;AAEA,SAASW,UAAT,CAAoBC,QAApB,EAA8B;AACnCH,EAAAA,MAAM,CAACI,IAAP,CAAYD,QAAZ;AACD;;AAEM,SAASE,aAAT,CAAuBC,EAAvB,EAA2BH,QAA3B,EAAqC;AAC1CH,EAAAA,MAAM,CAACO,QAAP,CAAgBD,EAAhB,EAAoBH,QAApB;AACD;;AAEM,SAASK,SAAT,CAAmBC,MAAnB,EAA2BN,QAA3B,EAAqC;AAC1CH,EAAAA,MAAM,CAACU,MAAP,CAAcD,MAAd,EAAsBN,QAAtB;AACD;;AAEM,SAASQ,YAAT,CAAsBL,EAAtB,EAA0BG,MAA1B,EAAkCN,QAAlC,EAA4C;AACjDM,EAAAA,MAAM,CAACG,GAAP,GAAa,IAAIvB,QAAJ,CAAaiB,EAAb,CAAb;AACA,MAAIO,KAAK,GAAG;AACVD,IAAAA,GAAG,EAAEH,MAAM,CAACG;AADF,GAAZ;AAGAZ,EAAAA,MAAM,CAACc,SAAP,CAAiBD,KAAjB,EAAwBJ,MAAxB,EAAgCN,QAAhC;AACD;;AAEM,SAASY,YAAT,CAAsBT,EAAtB,EAA0BH,QAA1B,EAAoC;AACzC,MAAIU,KAAK,GAAG;AACVD,IAAAA,GAAG,EAAE,IAAIvB,QAAJ,CAAaiB,EAAb;AADK,GAAZ;AAGAN,EAAAA,MAAM,CAACgB,SAAP,CAAiBH,KAAjB,EAAwBV,QAAxB;AACD","sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst Schema = mongoose.Schema;\r\nconst ObjectId = mongoose.Types.ObjectId;\r\n\r\nlet ReviewSchema = new Schema({\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  trunkUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  slackWebhook: String,\r\n  steps: [StepSchema]\r\n});\r\n\r\nexport const Review = mongoose.model('Review', ReviewSchema);\r\n\r\nexport function getReviews(callback) {\r\n  Review.find(callback);\r\n}\r\n\r\nexport function getReviewById(id, callback) {\r\n  Review.findById(id, callback);\r\n}\r\n\r\nexport function addReview(review, callback) {\r\n  Review.create(review, callback);\r\n}\r\n\r\nexport function updateReview(id, review, callback) {\r\n  review._id = new ObjectId(id);\r\n  var query = {\r\n    _id: review._id\r\n  };\r\n  Review.updateOne(query, review, callback);\r\n}\r\n\r\nexport function deleteReview(id, callback) {\r\n  var query = {\r\n    _id: new ObjectId(id)\r\n  };\r\n  Review.deleteOne(query, callback);\r\n}"],"file":"review.model.js"}